# Kubernetes

1. Déployer le projet dans le namespace dev
   
   - Déployer le fichier deployment et service qui se trouve dans le répertoire k8

<br><br>
2. Verifier le déploiement

    - Vérifier si les pods tourne
    - Tester l'url voir si la page se charge
  <br>

# Tester le pipeline

1. Sur votre machine physique, sur l'autre écran que VMWare, ouvrir le navigateur et aller sur votre CircleCi

2. Allez sur votre projet et cliquez "Pipelines" sur le menu vertical
   
4. Aller sur votre vm et ouvrez le projet my-k8s-app
<br>
     - Faite une modification dans le fichier index.js à la ligne res.end('Hello World!\n');  ... changer "Hello World!" pour quelque chose d'autre.

     - Poussez vos changements dans github

5. Rafraichissez la page web et vérifier si le pipeline est lancé.

   - Vous devriez avoir ceci
  
     ![image](https://github.com/user-attachments/assets/d541690e-fda1-4993-8e0c-e6f583ef5f26)


# Vérifiez le déploiement

1. Ouvrir une fenêtre terminal 

   - Récupérez l'adresse de votre service
     <br>
       ````
       kubectl get services -n dev
       ````
<br>
2. Ouvrez le navigateur avec cette adresse

   - Il ne devrait pas avoir vos changement
  <br>
3. Supprimer tous les pods afin d'utiliser la nouvelle image avec vos modifications
 <br>
  ````
    kubectl delete pods --all -n dev
  ````
 

